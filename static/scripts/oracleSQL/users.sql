--
-- Create model Cargo
--
CREATE TABLE "USERS_CARGO" ("ID_CARGO" NVARCHAR2(2) NOT NULL PRIMARY KEY, "DESC_CARGO" NVARCHAR2(20) NULL);
--
-- Create model Empleado
--
CREATE TABLE "USERS_EMPLEADO" ("COD_EMPLEADO" NVARCHAR2(4) NOT NULL PRIMARY KEY, "NOM_EMPLEADO" NVARCHAR2(20) NULL, "APELL_EMPLEADO" NVARCHAR2(20) NULL, "FECHA_REGISTRO" DATE NOT NULL, "CORREO_UD" NVARCHAR2(30) NULL);
--
-- Create model Estudiante
--
CREATE TABLE "USERS_ESTUDIANTE" ("COD_ESTU" NVARCHAR2(12) NOT NULL PRIMARY KEY, "NOM_ESTU" NVARCHAR2(30) NULL, "APELL_ESTU" NVARCHAR2(30) NULL, "FECHA_REG_ESTU" DATE NOT NULL, "FECHA_NAC_ESTU" DATE NOT NULL, "CORREO_UD_ESTU" NVARCHAR2(40) NULL, "ESPACIO_ID" NVARCHAR2(2) NOT NULL);
--
-- Create model Rol
--
CREATE TABLE "USERS_ROL" ("ID_ROL" NVARCHAR2(1) NOT NULL PRIMARY KEY, "DESC_ROL" NVARCHAR2(15) NULL);
--
-- Create model TipoDocumento
--
CREATE TABLE "USERS_TIPODOCUMENTO" ("ID_TIPO_DOCUMENTO" NUMBER(11) NOT NULL PRIMARY KEY, "ABREVIACION" NVARCHAR2(5) NULL, "DESC_TIPO" NVARCHAR2(50) NULL);
--
-- Create model Responsable
--
CREATE TABLE "USERS_RESPONSABLE" ("CONSEC_RESPONSABLE" NUMBER(11) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY, "FECHA_INICIO" DATE NOT NULL, "FECHA_FIN" DATE NOT NULL, "EMPLEADO_ID" NVARCHAR2(4) NOT NULL, "ESTUDIANTE_ID" NVARCHAR2(12) NULL, "PROGRAMACION_ID" NUMBER(11) NULL, "ROL_ID" NVARCHAR2(1) NULL);
--
-- Create model Persona
--
CREATE TABLE "USERS_PERSONA" ("NUMERO_DOCUMENTO" NVARCHAR2(11) NOT NULL PRIMARY KEY, "CORREO" NVARCHAR2(40) NULL, "PICTURE" NVARCHAR2(100) NULL, "CREATED" TIMESTAMP NOT NULL, "UPDATED" TIMESTAMP NOT NULL, "ID_TIPO_DOCUMENTO_ID" NUMBER(11) NOT NULL, "USER_ID" NUMBER(11) NOT NULL UNIQUE);
--
-- Create model EstudianteUser
--
CREATE TABLE "USERS_ESTUDIANTEUSER" ("COD_ESTUDIANTE" NVARCHAR2(11) NOT NULL PRIMARY KEY, "NOMBRE" NVARCHAR2(30) NULL, "APELLIDO" NVARCHAR2(30) NULL, "FECHA_INSCRIPCION" DATE NOT NULL, "FECHA_NACIMIENTO" DATE NOT NULL, "CORREO_INSTITUCIONAL" NVARCHAR2(40) NULL, "IDENTIFICACION_ID" NVARCHAR2(11) NOT NULL UNIQUE);
--
-- Create model EmpleadoCargo
--
CREATE TABLE "USERS_EMPLEADOCARGO" ("CONSEC" NUMBER(11) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY, "FECHA_CARGO" DATE NOT NULL, "FECHA_FIN_CARGO" DATE NOT NULL, "CARGO_ID" NVARCHAR2(2) NOT NULL, "EMPLEADO_ID" NVARCHAR2(4) NOT NULL, "ESPACIO_ID" NVARCHAR2(2) NOT NULL);
--
-- Create model AsisResponsable
--
CREATE TABLE "USERS_ASISRESPONSABLE" ("CONSEC_ASIS_RESPONSABLE" NUMBER(11) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY, "FECHA_ASIS_RESPONSABLE" DATE NOT NULL, "HORA_ASIS_RESPONSABLE" TIMESTAMP NOT NULL, "RESPONSABLE_ID" NUMBER(11) NULL);
ALTER TABLE "USERS_ESTUDIANTE" ADD CONSTRAINT "USERS_EST_ESPACIO_I_4BBEDFD0_F" FOREIGN KEY ("ESPACIO_ID") REFERENCES "PROGRAMMING_ESPACIO" ("COD_ESPACIO") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "USERS_ESTU_ESPACIO_ID_4BBEDFD0" ON "USERS_ESTUDIANTE" ("ESPACIO_ID");
ALTER TABLE "USERS_RESPONSABLE" ADD CONSTRAINT "USERS_RES_EMPLEADO__908A795A_F" FOREIGN KEY ("EMPLEADO_ID") REFERENCES "USERS_EMPLEADO" ("COD_EMPLEADO") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "USERS_RESPONSABLE" ADD CONSTRAINT "USERS_RES_ESTUDIANT_6B09E19D_F" FOREIGN KEY ("ESTUDIANTE_ID") REFERENCES "USERS_ESTUDIANTE" ("COD_ESTU") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "USERS_RESPONSABLE" ADD CONSTRAINT "USERS_RES_PROGRAMAC_BD46B634_F" FOREIGN KEY ("PROGRAMACION_ID") REFERENCES "PROGRAMMING_PROGRAMACION" ("CONSEC_PROGRAM") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "USERS_RESPONSABLE" ADD CONSTRAINT "USERS_RES_ROL_ID_58D94007_F" FOREIGN KEY ("ROL_ID") REFERENCES "USERS_ROL" ("ID_ROL") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "USERS_RESP_EMPLEADO_I_908A795A" ON "USERS_RESPONSABLE" ("EMPLEADO_ID");
CREATE INDEX "USERS_RESP_ESTUDIANTE_6B09E19D" ON "USERS_RESPONSABLE" ("ESTUDIANTE_ID");
CREATE INDEX "USERS_RESP_PROGRAMACI_BD46B634" ON "USERS_RESPONSABLE" ("PROGRAMACION_ID");
CREATE INDEX "USERS_RESP_ROL_ID_58D94007" ON "USERS_RESPONSABLE" ("ROL_ID");
ALTER TABLE "USERS_PERSONA" ADD CONSTRAINT "USERS_PER_ID_TIPO_D_8BF9B37E_F" FOREIGN KEY ("ID_TIPO_DOCUMENTO_ID") REFERENCES "USERS_TIPODOCUMENTO" ("ID_TIPO_DOCUMENTO") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "USERS_PERSONA" ADD CONSTRAINT "USERS_PER_USER_ID_3C09974D_F" FOREIGN KEY ("USER_ID") REFERENCES "AUTH_USER" ("ID") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "USERS_PERS_ID_TIPO_DO_8BF9B37E" ON "USERS_PERSONA" ("ID_TIPO_DOCUMENTO_ID");
ALTER TABLE "USERS_ESTUDIANTEUSER" ADD CONSTRAINT "USERS_EST_IDENTIFIC_D8211633_F" FOREIGN KEY ("IDENTIFICACION_ID") REFERENCES "USERS_PERSONA" ("NUMERO_DOCUMENTO") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "USERS_EMPLEADOCARGO" ADD CONSTRAINT "USERS_EMP_CARGO_ID_80278E65_F" FOREIGN KEY ("CARGO_ID") REFERENCES "USERS_CARGO" ("ID_CARGO") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "USERS_EMPLEADOCARGO" ADD CONSTRAINT "USERS_EMP_EMPLEADO__E674CB00_F" FOREIGN KEY ("EMPLEADO_ID") REFERENCES "USERS_EMPLEADO" ("COD_EMPLEADO") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "USERS_EMPLEADOCARGO" ADD CONSTRAINT "USERS_EMP_ESPACIO_I_546FC24D_F" FOREIGN KEY ("ESPACIO_ID") REFERENCES "PROGRAMMING_ESPACIO" ("COD_ESPACIO") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "USERS_EMPL_CARGO_ID_80278E65" ON "USERS_EMPLEADOCARGO" ("CARGO_ID");
CREATE INDEX "USERS_EMPL_EMPLEADO_I_E674CB00" ON "USERS_EMPLEADOCARGO" ("EMPLEADO_ID");
CREATE INDEX "USERS_EMPL_ESPACIO_ID_546FC24D" ON "USERS_EMPLEADOCARGO" ("ESPACIO_ID");
ALTER TABLE "USERS_ASISRESPONSABLE" ADD CONSTRAINT "USERS_ASI_CONSEC_AS_B117C7AC_U" UNIQUE ("CONSEC_ASIS_RESPONSABLE", "RESPONSABLE_ID");
ALTER TABLE "USERS_ASISRESPONSABLE" ADD CONSTRAINT "USERS_ASI_RESPONSAB_587BF36A_F" FOREIGN KEY ("RESPONSABLE_ID") REFERENCES "USERS_RESPONSABLE" ("CONSEC_RESPONSABLE") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "USERS_ASIS_RESPONSABL_587BF36A" ON "USERS_ASISRESPONSABLE" ("RESPONSABLE_ID");
